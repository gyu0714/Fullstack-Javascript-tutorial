<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>axios</title>
  </head>
  <body>
    <script>
      // axios : 비동기 통신을 위해 사용되는 라이브러리(프로미스 기반)
      // "https://unpkg.com/axios/dist/axios.min.js" 세팅이 필수

      // axios({
      //     method: "GET",
      //     url: "https://jsonplaceholder.typicode.com/users"
      // }).then(response => console.log(response.data))

      const postsURL = `https://jsonplaceholder.typicode.com/posts`;
      // GET : 정보 요청
      //   axios.get(`${postsURL}`).then((response) => console.log(response.data));

      // POST : 정보 입력
      //   axios
      //     .post(`${postsURL}`, {
      //       userId: "js",
      //       id: "99",
      //       title: "js-title",
      //       body: "js-body",
      //     })
      //     .then((res) => {
      //       console.log(res);
      //     })
      //     .catch((error) => {
      //       console.log(`error : ${error}`);
      //     });

      // PUT : 정보 수정
      // PATCH : 기본 형태는 보존하고 입력한 정보만 수정
      // 규칙을 맞게 수정을 해야함
      //   axios
      //     .patch(`${postsURL}/1`, {
      //       title: "js-title-put",
      //       body: "js-body-put",
      //     })
      //     .then((res) => {
      //       console.log(res);
      //     })
      //     .catch((error) => {
      //       console.log(`error : ${error}`);
      //     });

      // DELETE : 정보 삭제
      //   axios
      //     .delete(`${postsURL}/1`, {})
      //     .then((res) => {
      //       console.log(res);
      //     })
      //     .catch((error) => {
      //       console.log(`error : ${error}`);
      //     });

      // --------------Fetch----------------
      // Fetch : 자바스크립트 내장 라이브러리(Promise 기반)
      // GET
      //   fetch(`${postsURL}/1`, {
      //     method: "GET",
      //   })
      //     .then((response) => response.json())
      //     .then((data) => console.log(data));

      // POST
      //   fetch(`${postsURL}`, {
      //     method: "POST",
      //     headers: { "Content-Type": "application/json" },
      //     body: JSON.stringify({
      //       title: "js-title-fetch",
      //       body: "js-body-fetch",
      //       userId: 11,
      //     }),
      //   })
      //     .then((res) => res.json())
      //     .then((data) => console.log(data));

      // PUT
      fetch(`${postsURL}/1`, {
        method: "PUT",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          title: "js-title-put",
          body: "js-body-put",
        }),
      })
        .then((res) => res.json())
        .then((data) => console.log(data));

      // PATCH
      fetch(`${postsURL}/1`, {
        method: "PATCH",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          title: "js-title-put",
          body: "js-body-put",
        }),
      })
        .then((res) => res.json())
        .then((data) => console.log(data));

      // DELETE
      fetch(`${postsURL}/1`, {
        method: "DELETE",
        headers: { "Content-Type": "application/json" },
      })
        .then((res) => res.json())
        .then((data) => console.log(data));

      // axios 와 fetch의 차이

      // axios : 브라우저 호환성이 높음, 요청 객체를 자동으로 JSON으로 변환

      // fetch : 내장 라이브러리, 안전성이 높음

      // POSTMAN : REST API 잘 작동하는지 확인하는 툴
    </script>
  </body>
</html>
